<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Kh·∫£o s√°t ch·∫©n ƒëo√°n lo·∫°i da ƒë·ªÉ t√¨m s·∫£n ph·∫©m chƒÉm s√≥c da ph√π h·ª£p v·ªõi b·∫°n.">
  <meta name="keywords" content="ch·∫©n ƒëo√°n da, lo·∫°i da, da d·∫ßu, da kh√¥, da nh·∫°y c·∫£m, chƒÉm s√≥c da">
  <title>Ch·∫©n ƒëo√°n lo·∫°i da</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="/cosmetic-dathuong/css/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .skin-image {
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }
    .skin-image:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    }
    .skin-image.selected {
      border-color: #38b2ac;
      box-shadow: 0 0 0 3px rgba(56, 178, 172, 0.5);
    }
    .progress-bar {
      height: 6px;
      background-color: #e2e8f0;
      border-radius: 3px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background-color: #38b2ac;
      transition: width 0.5s ease;
    }
  </style>
</head>
<body class="bg-gray-50 font-sans">
  <div class="container mx-auto p-4 max-w-4xl">
    <div class="bg-white rounded-xl shadow-lg overflow-hidden">
      <!-- Header v·ªõi progress bar -->
      <div class="bg-teal-600 p-4 text-white">
        <h1 class="text-2xl font-bold text-center">üß¥ Ch·∫©n ƒëo√°n lo·∫°i da c·ªßa b·∫°n</h1>
        <div class="mt-4">
          <div class="flex justify-between mb-1">
            <span class="text-sm">Ti·∫øn tr√¨nh</span>
            <span class="text-sm" id="progress-text">0/5</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
          </div>
        </div>
      </div>
      
      <div class="p-6">
        <div id="error" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4 hidden" role="alert"></div>
        
        <!-- Form kh·∫£o s√°t -->
        <form id="skinForm" name="skinForm">
          <!-- C√¢u h·ªèi 1 -->
          <div class="question mb-8" data-question="1">
            <p class="font-semibold text-lg mb-4 text-gray-800" id="q1-label">
              <span class="bg-teal-100 text-teal-800 rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">1</span>
              Sau khi r·ª≠a m·∫∑t 30 ph√∫t, da b·∫°n c·∫£m th·∫•y th·∫ø n√†o?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="dry" class="mr-3 h-5 w-5 text-teal-600" required aria-describedby="q1-label">
                <div>
                  <p class="font-medium">Kh√¥, cƒÉng r√°t</p>
                  <img src="/static/img_hotro/dakho-1.webp" alt="Da kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Nh·ªùn b√≥ng ·ªü ch·ªØ T</p>
                  <img src="/static/img_hotro/dadau-1.jpg" alt="Da d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="combo_dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Ch·ªØ T b√≥ng nh·∫π, m√° kh√¥</p>
                  <img src="/static/img_hotro/dahonhopthienkho-1.jpg" alt="Da h·ªón h·ª£p thi√™n kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="combo_oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Ch·ªØ T b√≥ng nhi·ªÅu, m√° b√¨nh th∆∞·ªùng</p>
                  <img src="/static/img_hotro/dahonhopthiendau-1.jpg" alt="Da h·ªón h·ª£p thi√™n d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="normal" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Kh√¥ng nh·ªùn c≈©ng kh√¥ng kh√¥</p>
                  <img src="/static/img_hotro/dathuong-1.jpg" alt="Da th∆∞·ªùng" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q1" value="sensitive" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">B·ªã n√≥ng r√°t, ch√¢m ch√≠ch nh·∫π</p>
                  <img src="/static/img_hotro/danhaycam-1.webp" alt="Da nh·∫°y c·∫£m" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
            </div>
          </div>
          
          <!-- C√¢u h·ªèi 2 -->
          <div class="question mb-8 hidden" data-question="2">
            <p class="font-semibold text-lg mb-4 text-gray-800" id="q2-label">
              <span class="bg-teal-100 text-teal-800 rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">2</span>
              L·ªó ch√¢n l√¥ng c·ªßa b·∫°n nh∆∞ th·∫ø n√†o?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="dry" class="mr-3 h-5 w-5 text-teal-600" required aria-describedby="q2-label">
                <div>
                  <p class="font-medium">Nh·ªè, kh√≥ th·∫•y</p>
                  <img src="/static/img_hotro/dakho-2.webp" alt="L·ªó ch√¢n l√¥ng nh·ªè" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">To r√µ ·ªü c√°c v√πng tr√™n m·∫∑t</p>
                  <img src="/static/img_hotro/dadau-2.jpg" alt="L·ªó ch√¢n l√¥ng to" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="combo_oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">To ·ªü ch·ªØ T, nh·ªè ·ªü m√°</p>
                  <img src="/static/img_hotro/dahonhopthiendau-2.png" alt="L·ªó ch√¢n l√¥ng h·ªón h·ª£p" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="combo_dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Nh·ªè ·ªü m√°, ch·ªØ T h∆°i to</p>
                  <img src="/static/img_hotro/dahonhopthiendau-2.png" alt="L·ªó ch√¢n l√¥ng h·ªón h·ª£p" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="normal" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">ƒê·ªÅu, kh√¥ng n·ªïi b·∫≠t</p>
                  <img src="/static/img_hotro/dathuong-2.jpg" alt="L·ªó ch√¢n l√¥ng b√¨nh th∆∞·ªùng" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q2" value="sensitive" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">D·ªÖ n·ªïi ƒë·ªè, k√≠ch ·ª©ng</p>
                  <img src="/static/img_hotro/danhaycam-2.webp" alt="Da nh·∫°y c·∫£m" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
            </div>
          </div>
                
          <!-- C√¢u h·ªèi 3 -->
          <div class="question mb-8 hidden" data-question="3">
            <p class="font-semibold text-lg mb-4 text-gray-800" id="q3-label">
              <span class="bg-teal-100 text-teal-800 rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">3</span>
              B·∫°n th∆∞·ªùng g·∫∑p v·∫•n ƒë·ªÅ g√¨?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="dry" class="mr-3 h-5 w-5 text-teal-600" required aria-describedby="q3-label">
                <div>
                  <p class="font-medium">Bong tr√≥c, n·ª©t n·∫ª</p>
                  <img src="/static/img_hotro/dakho-3.jpg" alt="Da bong tr√≥c" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Nh·ªùn, m·ª•n ƒë·∫ßu ƒëen, m·ª•n vi√™m</p>
                  <img src="/static/img_hotro/dadau-3.webp" alt="Da m·ª•n" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="combo_oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">M·ª•n ƒë·∫ßu ƒëen v√πng ch·ªØ T, m√° kh√¥</p>
                  <img src="/static/img_hotro/dahonhopthiendau-3.jpg" alt="Da h·ªón h·ª£p m·ª•n" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="combo_dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">M·ª•n ƒë·∫ßu tr·∫Øng v√† m√° kh√¥ nh·∫π</p>
                  <img src="/static/img_hotro/dahonhopthienkho-3.webp" alt="Da h·ªón h·ª£p kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="normal" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">√çt v·∫•n ƒë·ªÅ, ƒë√¥i khi n·ªïi m·ª•n</p>
                  <img src="/static/img_hotro/dathuong-3.jpg" alt="Da √≠t v·∫•n ƒë·ªÅ" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q3" value="sensitive" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Ng·ª©a, ƒë·ªè, ch√¢m ch√≠ch</p>
                  <img src="/static/img_hotro/danhaycam-3.jpg" alt="Da nh·∫°y c·∫£m" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
            </div>
          </div>

          <!-- C√¢u h·ªèi 4 -->
          <div class="question mb-8 hidden" data-question="4">
            <p class="font-semibold text-lg mb-4 text-gray-800" id="q4-label">
              <span class="bg-teal-100 text-teal-800 rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">4</span>
              B·∫°n c·∫£m th·∫•y da thay ƒë·ªïi th·∫ø n√†o trong ng√†y?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="dry" class="mr-3 h-5 w-5 text-teal-600" required aria-describedby="q4-label">
                <div>
                  <p class="font-medium">C√†ng v·ªÅ chi·ªÅu c√†ng kh√¥, kh√≥ ch·ªãu</p>
                  <img src="/static/img_hotro/dakho-4.webp" alt="Da kh√¥ v·ªÅ chi·ªÅu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">D·∫ßu nhi·ªÅu r√µ r·ªát sau v√†i ti·∫øng</p>
                  <img src="/static/img_hotro/dadau-4.png" alt="Da ƒë·ªï d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="combo_oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Ban ƒë·∫ßu kh√¥, nh∆∞ng v√πng ch·ªØ T b·∫Øt ƒë·∫ßu ƒë·ªï d·∫ßu sau v√†i ti·∫øng</p>
                  <img src="/static/img_hotro/dahonhopthiendau-41.jpg" alt="Da h·ªón h·ª£p ƒë·ªï d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="combo_dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Kh√¥ v√πng m√°, nh∆∞ng ch·ªØ T v·∫´n ra √≠t d·∫ßu</p>
                  <img src="/static/img_hotro/dahonhopthienkho-4.jpg" alt="Da h·ªón h·ª£p kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="normal" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">G·∫ßn nh∆∞ kh√¥ng thay ƒë·ªïi, ·ªïn ƒë·ªãnh c·∫£ ng√†y</p>
                  <img src="/static/img_hotro/dathuong-5.png" alt="Da ·ªïn ƒë·ªãnh" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q4" value="sensitive" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Thay ƒë·ªïi li√™n t·ª•c, d·ªÖ b·ªã k√≠ch ·ª©ng khi tr·ªùi n√≥ng, l·∫°nh ho·∫∑c khi makeup</p>
                  <img src="/static/img_hotro/danhaycam-4.webp" alt="Da nh·∫°y c·∫£m" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
            </div>
          </div>

          <!-- C√¢u h·ªèi 5 -->
          <div class="question mb-8 hidden" data-question="5">
            <p class="font-semibold text-lg mb-4 text-gray-800" id="q5-label">
              <span class="bg-teal-100 text-teal-800 rounded-full w-8 h-8 inline-flex items-center justify-center mr-2">5</span>
              Khi s·ª≠ d·ª•ng m·ªπ ph·∫©m l·∫°, b·∫°n th∆∞·ªùng g·∫∑p t√¨nh tr·∫°ng n√†o?
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="normal" class="mr-3 h-5 w-5 text-teal-600" required aria-describedby="q5-label">
                <div>
                  <p class="font-medium">Kh√¥ng c√≥ v·∫•n ƒë·ªÅ g√¨</p>
                  <img src="/static/img_hotro/dathuong-51.jpg" alt="Da b√¨nh th∆∞·ªùng" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">D·∫ßu nhi·ªÅu h∆°n, d·ªÖ n·ªïi m·ª•n</p>
                  <img src="/static/img_hotro/dadau-4.jpg" alt="Da d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">Ch√¢m ch√≠ch nh·∫π v√πng da kh√¥</p>
                  <img src="/static/img_hotro/dahonhopthienkho-5.jpg" alt="Da kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="combo_oily" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">M·ª•n ƒë·∫ßu ƒëen v√πng m≈©i, kh√¥ m√°</p>
                  <img src="/static/img_hotro/dahonhopthiendau-41.jpg" alt="Da h·ªón h·ª£p d·∫ßu" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="combo_dry" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">CƒÉng nh·∫π nh∆∞ng kh√¥ng k√≠ch ·ª©ng</p>
                  <img src="/static/img_hotro/dakho-4.jpg" alt="Da h·ªón h·ª£p kh√¥" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
              
              <label class="flex items-center p-3 border rounded-lg cursor-pointer hover:bg-teal-50 transition-colors">
                <input type="radio" name="q5" value="sensitive" class="mr-3 h-5 w-5 text-teal-600">
                <div>
                  <p class="font-medium">R√°t, ƒë·ªè, ng·ª©a ho·∫∑c n·ªïi m·ª•n li ti</p>
                  <img src="/static/img_hotro/danhaycam-5.webp" alt="Da nh·∫°y c·∫£m" class="skin-image mt-2 rounded-md w-full h-32 object-cover">
                </div>
              </label>
            </div>
          </div>
          <div class="flex justify-between mt-8">
            <button type="button" onclick="prevQuestion()" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition-colors hidden" id="prevBtn">
              <i class="fas fa-arrow-left mr-2"></i> Quay l·∫°i
            </button>
            <button type="button" onclick="nextQuestion()" class="bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition-colors ml-auto" id="nextBtn">
              Ti·∫øp theo <i class="fas fa-arrow-right ml-2"></i>
            </button>
            <button type="button" onclick="analyze()" class="bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition-colors hidden" id="submitBtn">
              <span id="buttonText">X√°c ƒë·ªãnh lo·∫°i da</span>
              <svg id="loadingSpinner" class="animate-spin h-5 w-5 ml-2 hidden inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal k·∫øt qu·∫£ -->
  <div id="resultModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden z-50">
    <div class="bg-white p-6 rounded-xl shadow-xl max-w-md w-full mx-4">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-gray-800">K·∫øt qu·∫£ ch·∫©n ƒëo√°n</h3>
        <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div id="modalResult" class="text-lg mb-6"></div>
      
      <div class="flex flex-col sm:flex-row justify-between gap-3">
        <button onclick="closeModal()" class="bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors flex-1">
          ƒê√≥ng
        </button>
        <button onclick="redirectToSkinType()" id="redirectButton" class="bg-teal-600 text-white px-4 py-2 rounded-lg hover:bg-teal-700 transition-colors flex-1 flex items-center justify-center">
          Xem s·∫£n ph·∫©m ph√π h·ª£p <i class="fas fa-arrow-right ml-2"></i>
        </button>
      </div>
    </div>
  </div>

  <script>
    // Bi·∫øn to√†n c·ª•c
    let selectedSkinType = '';
    let currentQuestion = 1;
    const totalQuestions = 5;

    // H√†m c·∫≠p nh·∫≠t ti·∫øn tr√¨nh
    function updateProgress() {
      const answeredQuestions = document.querySelectorAll(`input[type="radio"]:checked`).length;
      const progressPercent = (answeredQuestions / totalQuestions) * 100;
      
      document.getElementById('progress-fill').style.width = `${progressPercent}%`;
      document.getElementById('progress-text').textContent = `${answeredQuestions}/${totalQuestions}`;
    }

    // H√†m hi·ªÉn th·ªã c√¢u h·ªèi
    function showQuestion(questionNum) {
      document.querySelectorAll('.question').forEach(q => {
        q.classList.add('hidden');
      });
      
      document.querySelector(`.question[data-question="${questionNum}"]`).classList.remove('hidden');
      
      // C·∫≠p nh·∫≠t n√∫t ƒëi·ªÅu h∆∞·ªõng
      document.getElementById('prevBtn').classList.toggle('hidden', questionNum === 1);
      document.getElementById('nextBtn').classList.toggle('hidden', questionNum === totalQuestions);
      document.getElementById('submitBtn').classList.toggle('hidden', questionNum !== totalQuestions);
      
      currentQuestion = questionNum;
      updateProgress();
    }

    // Chuy·ªÉn ƒë·∫øn c√¢u h·ªèi ti·∫øp theo
    function nextQuestion() {
      const currentQuestionElement = document.querySelector(`.question[data-question="${currentQuestion}"]`);
      const isAnswered = currentQuestionElement.querySelector('input[type="radio"]:checked');
      
      if (!isAnswered) {
        document.getElementById('error').textContent = 'Vui l√≤ng ch·ªçn m·ªôt ƒë√°p √°n ƒë·ªÉ ti·∫øp t·ª•c';
        document.getElementById('error').classList.remove('hidden');
        return;
      }
      
      document.getElementById('error').classList.add('hidden');
      showQuestion(currentQuestion + 1);
    }

    // Quay l·∫°i c√¢u h·ªèi tr∆∞·ªõc
    function prevQuestion() {
      showQuestion(currentQuestion - 1);
    }

    // Ph√¢n t√≠ch k·∫øt qu·∫£
    function analyze() {
      const form = document.forms['skinForm'];
      const errorDiv = document.getElementById('error');
      const buttonText = document.getElementById('buttonText');
      const spinner = document.getElementById('loadingSpinner');
      const modal = document.getElementById('resultModal');
      const modalResult = document.getElementById('modalResult');

      // Ki·ªÉm tra xem t·∫•t c·∫£ c√¢u h·ªèi ƒë√£ ƒë∆∞·ª£c tr·∫£ l·ªùi ch∆∞a
      const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
      if (answeredQuestions < totalQuestions) {
        errorDiv.textContent = 'Vui l√≤ng tr·∫£ l·ªùi ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ c√°c c√¢u h·ªèi!';
        errorDiv.classList.remove('hidden');
        return;
      }

      // Reset error
      errorDiv.classList.add('hidden');

      // Hi·ªÉn th·ªã loading
      buttonText.innerText = 'ƒêang x·ª≠ l√Ω...';
      spinner.classList.remove('hidden');

      // Thu th·∫≠p ƒë√°p √°n
      const scores = { oily: 0, dry: 0, combo_oily: 0, combo_dry: 0, normal: 0, sensitive: 0 };
      for (let i = 1; i <= totalQuestions; i++) {
        const radios = form['q' + i];
        let selected = '';
        if (radios) {
          if (radios.length) {
            for (let r of radios) if (r.checked) selected = r.value;
          } else if (radios.checked) {
            selected = radios.value;
          }
        }
        if (scores.hasOwnProperty(selected)) {
          scores[selected]++;
        }
      }

      // X√°c ƒë·ªãnh lo·∫°i da
      const [result, maxScore] = Object.entries(scores).reduce(
        ([type, max], [currType, score]) => (score > max ? [currType, score] : [type, max]),
        ['normal', 0]
      );

      selectedSkinType = result;

      const skinNames = {
        oily: 'Da d·∫ßu',
        dry: 'Da kh√¥',
        combo_oily: 'Da h·ªón h·ª£p thi√™n d·∫ßu',
        combo_dry: 'Da h·ªón h·ª£p thi√™n kh√¥',
        normal: 'Da th∆∞·ªùng',
        sensitive: 'Da nh·∫°y c·∫£m'
      };

      const skinDescriptions = {
        oily: 'Da b·∫°n ti·∫øt nhi·ªÅu d·∫ßu, d·ªÖ b√≥ng nh·ªùn v√† c√≥ xu h∆∞·ªõng n·ªïi m·ª•n. N√™n s·ª≠ d·ª•ng s·∫£n ph·∫©m ki·ªÉm so√°t d·∫ßu nh·ªùn v√† l√†m s·∫°ch s√¢u.',
        dry: 'Da b·∫°n thi·∫øu ·∫©m, d·ªÖ bong tr√≥c v√† cƒÉng r√°t. C·∫ßn d∆∞·ª°ng ·∫©m s√¢u v√† b·∫£o v·ªá da kh·ªèi t√°c nh√¢n g√¢y kh√¥.',
        combo_oily: 'Da b·∫°n h·ªón h·ª£p v·ªõi v√πng ch·ªØ T nhi·ªÅu d·∫ßu v√† m√° b√¨nh th∆∞·ªùng. C·∫ßn chƒÉm s√≥c ri√™ng t·ª´ng v√πng da.',
        combo_dry: 'Da b·∫°n h·ªón h·ª£p v·ªõi m√° kh√¥ v√† v√πng ch·ªØ T h∆°i nh·ªùn. C·∫ßn c√¢n b·∫±ng gi·ªØa d∆∞·ª°ng ·∫©m v√† ki·ªÉm so√°t d·∫ßu.',
        normal: 'Da b·∫°n c√¢n b·∫±ng, kh√¥ng qu√° kh√¥ c≈©ng kh√¥ng qu√° nh·ªùn. Duy tr√¨ ch·∫ø ƒë·ªô chƒÉm s√≥c da ph√π h·ª£p ƒë·ªÉ gi·ªØ v·∫ª ƒë·∫πp t·ª± nhi√™n.',
        sensitive: 'Da b·∫°n d·ªÖ k√≠ch ·ª©ng, ƒë·ªè v√† ng·ª©a. C·∫ßn s·∫£n ph·∫©m d·ªãu nh·∫π, kh√¥ng ch·ª©a th√†nh ph·∫ßn g√¢y k√≠ch ·ª©ng.'
      };

      // Hi·ªÉn th·ªã k·∫øt qu·∫£ trong modal
      setTimeout(() => {
        modalResult.innerHTML = `
          <div class="flex items-center mb-4">
            <div class="bg-teal-100 text-teal-800 rounded-full w-12 h-12 flex items-center justify-center mr-4">
              <i class="fas fa-spa text-xl"></i>
            </div>
            <div>
              <h4 class="font-bold text-xl">${skinNames[result]}</h4>
              <p class="text-gray-600">${skinDescriptions[result]}</p>
            </div>
          </div>
          <div class="bg-gray-50 p-4 rounded-lg">
            <p class="text-sm text-gray-700"><i class="fas fa-lightbulb text-teal-500 mr-2"></i> <strong>L·ªùi khuy√™n:</strong> Ch√∫ng t√¥i s·∫Ω g·ª£i √Ω c√°c s·∫£n ph·∫©m ph√π h·ª£p v·ªõi lo·∫°i da c·ªßa b·∫°n.</p>
          </div>
        `;
        modal.classList.remove('hidden');
        buttonText.innerText = 'X√°c ƒë·ªãnh lo·∫°i da';
        spinner.classList.add('hidden');
      }, 800); // Gi·∫£ l·∫≠p th·ªùi gian x·ª≠ l√Ω
    }

    function redirectToSkinType() {
      const skinUrls = {
        oily: './cosmetic/dadau/dadau.html',
        dry: './cosmetic/dakho/dakho.html',
        combo_oily: './cosmetic/dahonhop/dahonhop.html',
        combo_dry: './cosmetic/dahonhop/dahonhop.html',
        normal: './cosmetic/dathuong/dathuong.html',
        sensitive: './cosmetic/danhaycam/danhaycam.html'
      };
      window.location.href = skinUrls[selectedSkinType] || './cosmetic/dathuong/dathuong.html';
    }

    function closeModal() {
      document.getElementById('resultModal').classList.add('hidden');
    }

    // Kh·ªüi t·∫°o - hi·ªÉn th·ªã c√¢u h·ªèi ƒë·∫ßu ti√™n
    document.addEventListener('DOMContentLoaded', () => {
      showQuestion(1);
      
      // Th√™m hi·ªáu ·ª©ng khi ch·ªçn ƒë√°p √°n
      document.querySelectorAll('input[type="radio"]').forEach(radio => {
        radio.addEventListener('change', function() {
          // X√≥a class selected kh·ªèi t·∫•t c·∫£ c√°c h√¨nh ·∫£nh trong c√¢u h·ªèi hi·ªán t·∫°i
          const currentQuestionElement = document.querySelector(`.question[data-question="${currentQuestion}"]`);
          currentQuestionElement.querySelectorAll('.skin-image').forEach(img => {
            img.classList.remove('selected');
          });
          
          // Th√™m class selected v√†o h√¨nh ·∫£nh ƒë∆∞·ª£c ch·ªçn
          if (this.checked) {
            const parentLabel = this.closest('label');
            const img = parentLabel.querySelector('.skin-image');
            if (img) img.classList.add('selected');
          }
          
          updateProgress();
        });
      });
    });
  </script>
</body>
</html>